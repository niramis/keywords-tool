{"ast":null,"code":"import _classCallCheck from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import{get_random_colors as _get_random_colors,get_box_height as _get_box_height,get_data_mocks_area_DATES,scale_data_mocks as _scale_data_mocks,get_data_map_area_DATES as _get_data_map_area_DATES,get_min_value,get_max_value}from'./utils/functions';import{appConfig}from'./utils/config.js';import AxisX from'./parts/AxisX';import AxisY from'./parts/AxisY';import Legend from'./parts/Legend';import Static_Line from'./parts/Static_Line';import Pointer_Line from'./parts/Pointer_Line';import Info_Box from'./parts/Info_Box';import Area_Path from'./parts/Area_Path';import Plot from'./parts/Plot';import'./css/plot.css';var dimensions=appConfig.dimensions;var ratio=4.5;export var KeywordPlot=/*#__PURE__*/function(_React$PureComponent){_inherits(KeywordPlot,_React$PureComponent);function KeywordPlot(props){var _this;_classCallCheck(this,KeywordPlot);_this=_possibleConstructorReturn(this,_getPrototypeOf(KeywordPlot).call(this,props));_this.handleMouseMove=_this.handleMouseMove.bind(_assertThisInitialized(_this));_this.handleHoverOff=_this.handleHoverOff.bind(_assertThisInitialized(_this));_this.updateWindowDimensions=_this.updateWindowDimensions.bind(_assertThisInitialized(_this));var x_trans_left=85*4;var y_trans_up=85;var y_trans_bottom=85;var width=(window.innerWidth*0.6-2*x_trans_left)*0.8;var height=_this.props.plot_settings.height-y_trans_up-y_trans_bottom;_this.divRef=React.createRef();var min_y=get_min_value(_this.props.data.historical_data);var max_y=get_max_value(_this.props.data.historical_data);var number_of_series=_this.props.plot_settings.keywords.length;var lower_bound=(Math.ceil((min_y+1)/10)-1)*10;var upper_bound=Math.ceil((Math.abs(max_y)+1)/10)*10;var ranges={max_x:_this.props.data.historical_data[0].length+_this.props.data.forecasted_data[0].length,min_x:0,max_y:upper_bound,min_y:lower_bound};_this.state={title:_this.props.plot_settings.title,x_label:_this.props.plot_settings.x_label,y_label:_this.props.plot_settings.y_label,mark_line:{pos:0,visibility:\"hidden\"},info_box:{pos_x:0,pos_y:0,visibility:\"hidden\",colors:_get_random_colors(number_of_series)},scaled_data:_this.scale_data_mocks(_this.props.data,ranges,width,height),data_map_area_DATES:_this.get_data_map_area_DATES(_this.props.data),colors:_this.get_random_colors(number_of_series),info_box_height:_this.get_box_height(number_of_series),dimensions:{svg_width:width,width:width/1.1,height:height,x_trans:x_trans_left,y_trans:y_trans_up,y_trans_bottom:y_trans_bottom,historical_data_length:_this.props.data.historical_data[0].length,forecasted_data_length:_this.props.data.forecasted_data[0].length},min_y:min_y,max_y:max_y,ticks:12,ranges:ranges,number_of_series:number_of_series// height: height\n};return _this;}_createClass(KeywordPlot,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateWindowDimensions();window.addEventListener('resize',this.updateWindowDimensions);this.divRef.current.focus();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('resize',this.updateWindowDimensions);}},{key:\"updateWindowDimensions\",value:function updateWindowDimensions(){var svg_width=this.divRef.current.clientWidth;var sizes=this.get_dimensions(svg_width);var x_trans_left=sizes.x_trans_left;var x_trans_right=sizes.x_trans_right;var y_trans_up=sizes.y_trans_up;var y_trans_bottom=sizes.y_trans_bottom;var height=sizes.height;var plot_width=svg_width-x_trans_left-x_trans_right;var plot_height=this.props.plot_settings.height-y_trans_up-y_trans_bottom;// let plot_height = this.state.height - y_trans_up - y_trans_bottom;\nvar ranges=this.state.ranges;this.setState({dimensions:{svg_width:svg_width,width:plot_width,height:plot_height,x_trans:x_trans_left,y_trans:y_trans_up,x_trans_right:x_trans_right,y_trans_bottom:y_trans_bottom,historical_data_length:this.props.data.historical_data[0].length,forecasted_data_length:this.props.data.forecasted_data[0].length},scaled_data:this.scale_data_mocks(this.props.data,ranges,plot_width,plot_height)});}},{key:\"scale_data_mocks\",value:function scale_data_mocks(data,ranges,width,height){return _scale_data_mocks(data,ranges,width,height);}},{key:\"get_data_map_area_DATES\",value:function get_data_map_area_DATES(data){return _get_data_map_area_DATES(data);}},{key:\"get_random_colors\",value:function get_random_colors(number_of_series){return _get_random_colors(number_of_series);}},{key:\"get_box_height\",value:function get_box_height(number_of_series){return _get_box_height(number_of_series);}},{key:\"handleMouseMove\",value:function handleMouseMove(event){var e=event.target;var dim=e.getBoundingClientRect();var x=event.clientX-dim.left-this.state.dimensions.x_trans;var y=event.clientY-dim.top-this.state.dimensions.y_trans;if(x>=0&&y>=0&&x<=this.state.dimensions.width&&y<=this.state.dimensions.height){var x_diff=this.state.ranges.max_x-this.state.ranges.min_x;var x_frame=this.state.dimensions.width/x_diff;var key=Math.round(x/x_frame);console.log(this.state.data_map_area_DATES[key]);if(this.state.data_map_area_DATES[key]!==undefined){var left_index=Math.round((this.state.ranges.max_x-this.state.ranges.min_x)/2)-1;var right_index=Math.round((this.state.ranges.max_x-this.state.ranges.min_x)/2)+1;//keys left\nfor(var i=this.state.ranges.min_x;i<=key;i++){if(this.state.data_map_area_DATES[i]!==undefined){left_index=i;}}//keys right\nfor(var _i=key;_i<=this.state.ranges.max_x;_i++){if(this.state.data_map_area_DATES[_i]!==undefined){right_index=_i;}}//index difference\nthis.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.plot_settings.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}else if(key!==undefined){////////////////////////////\nvar _left_index=key-1;var _right_index=key+1;//keys left\nfor(var _i2=key;_i2>=0;_i2--){if(this.state.data_map_area_DATES[_i2]!==undefined){_left_index=_i2;break;}}//keys right\nfor(var _i3=key;_i3<=this.state.ranges.max_x;_i3++){if(this.state.data_map_area_DATES[_i3]!==undefined){_right_index=_i3;break;}}//index difference\nvar left_diff=key-_left_index;var right_diff=_right_index-key;if(this.state.data_map_area_DATES[_left_index]!==undefined&&this.state.data_map_area_DATES[_right_index]!==undefined){if(left_diff<=right_diff){this.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.plot_settings.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}else{this.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.plot_settings.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}}/////////////////\n}}else if(x>this.state.dimensions.width||y>this.state.dimensions.height||x<this.state.dimensions.x_trans||y<this.state.dimensions.y_trans){this.setState({mark_line:{visibility:\"hidden\",pos:9999},info_box:{visibility:\"hidden\",pos_x:9999,pos_y:9999,colors:_get_random_colors(this.props.plot_settings.number_of_series)}});}}},{key:\"handleHoverOff\",value:function handleHoverOff(event){this.setState({mark_line:{pos:0,visibility:\"hidden\"},info_box:{pos_x:0,pos_y:0,visibility:\"hidden\",colors:_get_random_colors(this.props.plot_settings.number_of_series)}});}},{key:\"render\",value:function render(){var _this2=this;var area_paths=this.state.scaled_data[0].map(function(entity,index){return React.createElement(Area_Path,{key:index,data:entity,color:_this2.state.colors[index],style:\"none\",slice:4});});var area_paths_future=this.state.scaled_data[1].map(function(entity,index){return React.createElement(Area_Path,{key:index,data:entity,color:_this2.state.colors[index],style:\"dash\"});});var v_b=\"0 0 \"+this.state.dimensions.svg_width+\" \"+this.props.plot_settings.height;var v_trans=\"translate(\"+this.state.dimensions.x_trans+\",\"+this.state.dimensions.y_trans+\")\";var aa=this.state.max_y;var bb=this.state.min_y;var lower_bound=(Math.ceil((bb+1)/10)-1)*10;var upper_bound=Math.ceil((Math.abs(aa)+1)/10)*10;var calc_y_number=(upper_bound-lower_bound)/10;return React.createElement(\"div\",{ref:this.divRef},React.createElement(\"svg\",{version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\",preserveAspectRatio:\"none\",onMouseMove:this.handleMouseMove,onMouseLeave:this.handleHoverOff,width:this.state.dimensions.svg_width,height:this.props.plot_settings.height,viewBox:v_b},React.createElement(\"g\",null,React.createElement(\"g\",{transform:v_trans},area_paths,area_paths_future,React.createElement(Plot,{dimensions:this.state.dimensions,y_number:this.state.y_number,title:this.state.title}),React.createElement(AxisY,{dimensions:this.state.dimensions,y_number:calc_y_number,y_label:this.state.y_label,lower_bound:lower_bound,upper_bound:upper_bound}),React.createElement(AxisX,{dimensions:this.state.dimensions,x_label:this.state.x_label,ticks:this.state.ticks,dates:this.state.data_map_area_DATES}),React.createElement(Legend,{dimensions:this.state.dimensions,colors:this.state.colors,keywords:this.props.plot_settings.keywords}),React.createElement(Static_Line,{dimensions:this.state.dimensions,ranges:this.state.ranges}),React.createElement(Pointer_Line,{mark_line:this.state.mark_line,height:this.state.dimensions.height}),React.createElement(Info_Box,{info_box:this.state.info_box,width:dimensions.box_width,height:this.state.info_box_height,keywords:this.props.plot_settings.keywords})))));}},{key:\"get_dimensions\",value:function get_dimensions(width){var height=width/ratio;var x_trans_left=this.state.x_trans;var y_trans_up=this.state.y_trans;var x_trans_right=this.state.x_trans;var y_trans_bottom=this.state.y_trans;if(width>1800){height=height;x_trans_left=80;y_trans_up=80;x_trans_right=50;y_trans_bottom=80;}if(width<=1800){height=1.2*width/ratio;x_trans_left=80;y_trans_up=80;x_trans_right=50;y_trans_bottom=80;}if(width<=1600){height=1.4*width/ratio;x_trans_left=80;y_trans_up=80;x_trans_right=50;y_trans_bottom=80;}if(width<=1400){height=1.6*width/ratio;x_trans_left=70;y_trans_up=70;x_trans_right=50;y_trans_bottom=70;}if(width<=1200){height=1.8*width/ratio;x_trans_left=60;y_trans_up=60;x_trans_right=50;y_trans_bottom=70;}// if(width<=800){\n//   height = (2.2)*width/(ratio);\n//   x_trans = 60;\n//   y_trans = 20;\n//   x_trans2 = 20;\n//   y_trans2 = 60;\n// }\nif(width<=700){height=3.1*width/ratio;x_trans_left=60;y_trans_up=20;x_trans_right=50;y_trans_bottom=this.state.number_of_series*14+80;}var sizes={height:height,x_trans_left:x_trans_left,y_trans_up:y_trans_up,x_trans_right:x_trans_right,y_trans_bottom:y_trans_bottom};return sizes;}}]);return KeywordPlot;}(React.PureComponent);export default KeywordPlot;","map":{"version":3,"sources":["G:/kloud9/dashboard-last/keywords-tool/client/src/components/plot/src/plot/KeywordPlot.js"],"names":["React","get_random_colors","get_box_height","get_data_mocks_area_DATES","scale_data_mocks","get_data_map_area_DATES","get_min_value","get_max_value","appConfig","AxisX","AxisY","Legend","Static_Line","Pointer_Line","Info_Box","Area_Path","Plot","dimensions","ratio","KeywordPlot","props","handleMouseMove","bind","handleHoverOff","updateWindowDimensions","x_trans_left","y_trans_up","y_trans_bottom","width","window","innerWidth","height","plot_settings","divRef","createRef","min_y","data","historical_data","max_y","number_of_series","keywords","length","lower_bound","Math","ceil","upper_bound","abs","ranges","max_x","forecasted_data","min_x","state","title","x_label","y_label","mark_line","pos","visibility","info_box","pos_x","pos_y","colors","scaled_data","data_map_area_DATES","info_box_height","svg_width","x_trans","y_trans","historical_data_length","forecasted_data_length","ticks","addEventListener","current","focus","removeEventListener","clientWidth","sizes","get_dimensions","x_trans_right","plot_width","plot_height","setState","event","e","target","dim","getBoundingClientRect","x","clientX","left","y","clientY","top","x_diff","x_frame","key","round","console","log","undefined","left_index","right_index","i","value_x","value_y","left_diff","right_diff","area_paths","map","entity","index","area_paths_future","v_b","v_trans","aa","bb","calc_y_number","y_number","box_width","PureComponent"],"mappings":"w0BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,OAASC,iBAAiB,GAAjBA,CAAAA,kBAAT,CAA4BC,cAAc,GAAdA,CAAAA,eAA5B,CAA4CC,yBAA5C,CAAuEC,gBAAgB,GAAhBA,CAAAA,iBAAvE,CAAyFC,uBAAuB,GAAvBA,CAAAA,wBAAzF,CAAkHC,aAAlH,CAAiIC,aAAjI,KAAsJ,mBAAtJ,CACA,OAASC,SAAT,KAA0B,mBAA1B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAO,gBAAP,CAGA,GAAIC,CAAAA,UAAU,CAAGT,SAAS,CAACS,UAA3B,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAd,CAEA,UAAaC,CAAAA,WAAb,yFAEE,qBAAYC,KAAZ,CAAmB,6CACjB,6EAAMA,KAAN,GAEA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CACA,MAAKE,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BF,IAA5B,+BAA9B,CAEA,GAAIG,CAAAA,YAAY,CAAG,GAAG,CAAtB,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,cAAc,CAAG,EAArB,CAEA,GAAIC,CAAAA,KAAK,CAAG,CAACC,MAAM,CAACC,UAAP,CAAmB,GAAnB,CAA0B,EAAEL,YAA7B,EAA2C,GAAvD,CACA,GAAIM,CAAAA,MAAM,CAAG,MAAKX,KAAL,CAAWY,aAAX,CAAyBD,MAAzB,CAAkCL,UAAlC,CAA+CC,cAA5D,CAEA,MAAKM,MAAL,CAAcjC,KAAK,CAACkC,SAAN,EAAd,CAEA,GAAIC,CAAAA,KAAK,CAAG7B,aAAa,CAAC,MAAKc,KAAL,CAAWgB,IAAX,CAAgBC,eAAjB,CAAzB,CACA,GAAIC,CAAAA,KAAK,CAAG/B,aAAa,CAAC,MAAKa,KAAL,CAAWgB,IAAX,CAAgBC,eAAjB,CAAzB,CAEA,GAAIE,CAAAA,gBAAgB,CAAG,MAAKnB,KAAL,CAAWY,aAAX,CAAyBQ,QAAzB,CAAkCC,MAAzD,CAEA,GAAIC,CAAAA,WAAW,CAAG,CAACC,IAAI,CAACC,IAAL,CAAU,CAAET,KAAD,CAAQ,CAAT,EAAc,EAAxB,EAA4B,CAA7B,EAAkC,EAApD,CACA,GAAIU,CAAAA,WAAW,CAAGF,IAAI,CAACC,IAAL,CAAU,CAACD,IAAI,CAACG,GAAL,CAASR,KAAT,EAAgB,CAAjB,EAAsB,EAAhC,EAAsC,EAAxD,CAEA,GAAIS,CAAAA,MAAM,CAAG,CACXC,KAAK,CAAG,MAAK5B,KAAL,CAAWgB,IAAX,CAAgBC,eAAhB,CAAgC,CAAhC,EAAmCI,MAAnC,CAA4C,MAAKrB,KAAL,CAAWgB,IAAX,CAAgBa,eAAhB,CAAgC,CAAhC,EAAmCR,MAD5E,CAEXS,KAAK,CAAE,CAFI,CAGXZ,KAAK,CAAEO,WAHI,CAIXV,KAAK,CAAEO,WAJI,CAAb,CAOA,MAAKS,KAAL,CAAa,CACXC,KAAK,CAAE,MAAKhC,KAAL,CAAWY,aAAX,CAAyBoB,KADrB,CAEXC,OAAO,CAAE,MAAKjC,KAAL,CAAWY,aAAX,CAAyBqB,OAFvB,CAGXC,OAAO,CAAE,MAAKlC,KAAL,CAAWY,aAAX,CAAyBsB,OAHvB,CAKXC,SAAS,CAAE,CACTC,GAAG,CAAE,CADI,CAETC,UAAU,CAAE,QAFH,CALA,CAUXC,QAAQ,CAAE,CACRC,KAAK,CAAE,CADC,CAERC,KAAK,CAAE,CAFC,CAGRH,UAAU,CAAE,QAHJ,CAIRI,MAAM,CAAE5D,kBAAiB,CAACsC,gBAAD,CAJjB,CAVC,CAiBXuB,WAAW,CAAE,MAAK1D,gBAAL,CAAsB,MAAKgB,KAAL,CAAWgB,IAAjC,CAAuCW,MAAvC,CAA+CnB,KAA/C,CAAsDG,MAAtD,CAjBF,CAkBXgC,mBAAmB,CAAE,MAAK1D,uBAAL,CAA6B,MAAKe,KAAL,CAAWgB,IAAxC,CAlBV,CAoBXyB,MAAM,CAAE,MAAK5D,iBAAL,CAAuBsC,gBAAvB,CApBG,CAqBXyB,eAAe,CAAE,MAAK9D,cAAL,CAAoBqC,gBAApB,CArBN,CAuBXtB,UAAU,CAAE,CACVgD,SAAS,CAAErC,KADD,CAEVA,KAAK,CAAEA,KAAK,CAAC,GAFH,CAGVG,MAAM,CAAEA,MAHE,CAIVmC,OAAO,CAAEzC,YAJC,CAKV0C,OAAO,CAAEzC,UALC,CAMVC,cAAc,CAAEA,cANN,CAOVyC,sBAAsB,CAAE,MAAKhD,KAAL,CAAWgB,IAAX,CAAgBC,eAAhB,CAAgC,CAAhC,EAAmCI,MAPjD,CAQV4B,sBAAsB,CAAE,MAAKjD,KAAL,CAAWgB,IAAX,CAAgBa,eAAhB,CAAgC,CAAhC,EAAmCR,MARjD,CAvBD,CAiCXN,KAAK,CAAEA,KAjCI,CAkCXG,KAAK,CAAEA,KAlCI,CAmCXgC,KAAK,CAAE,EAnCI,CAqCXvB,MAAM,CAAEA,MArCG,CAsCXR,gBAAgB,CAAEA,gBAClB;AAvCW,CAAb,CA/BiB,aAwElB,CA1EH,qFA6EsB,CAClB,KAAKf,sBAAL,GACAK,MAAM,CAAC0C,gBAAP,CAAwB,QAAxB,CAAkC,KAAK/C,sBAAvC,EACA,KAAKS,MAAL,CAAYuC,OAAZ,CAAoBC,KAApB,GACD,CAjFH,mEAmFyB,CACrB5C,MAAM,CAAC6C,mBAAP,CAA2B,QAA3B,CAAqC,KAAKlD,sBAA1C,EACD,CArFH,uEAuF2B,CACvB,GAAIyC,CAAAA,SAAS,CAAG,KAAKhC,MAAL,CAAYuC,OAAZ,CAAoBG,WAApC,CAEA,GAAIC,CAAAA,KAAK,CAAG,KAAKC,cAAL,CAAoBZ,SAApB,CAAZ,CAEA,GAAIxC,CAAAA,YAAY,CAAGmD,KAAK,CAACnD,YAAzB,CACA,GAAIqD,CAAAA,aAAa,CAAGF,KAAK,CAACE,aAA1B,CACA,GAAIpD,CAAAA,UAAU,CAAGkD,KAAK,CAAClD,UAAvB,CACA,GAAIC,CAAAA,cAAc,CAAGiD,KAAK,CAACjD,cAA3B,CACA,GAAII,CAAAA,MAAM,CAAG6C,KAAK,CAAC7C,MAAnB,CAEA,GAAIgD,CAAAA,UAAU,CAAGd,SAAS,CAAGxC,YAAZ,CAA2BqD,aAA5C,CACA,GAAIE,CAAAA,WAAW,CAAG,KAAK5D,KAAL,CAAWY,aAAX,CAAyBD,MAAzB,CAAkCL,UAAlC,CAA+CC,cAAjE,CACA;AAEA,GAAIoB,CAAAA,MAAM,CAAG,KAAKI,KAAL,CAAWJ,MAAxB,CAEA,KAAKkC,QAAL,CAAc,CACZhE,UAAU,CAAE,CACVgD,SAAS,CAAEA,SADD,CAEVrC,KAAK,CAAEmD,UAFG,CAGVhD,MAAM,CAAEiD,WAHE,CAIVd,OAAO,CAAEzC,YAJC,CAKV0C,OAAO,CAAEzC,UALC,CAMVoD,aAAa,CAAEA,aANL,CAOVnD,cAAc,CAAEA,cAPN,CASVyC,sBAAsB,CAAE,KAAKhD,KAAL,CAAWgB,IAAX,CAAgBC,eAAhB,CAAgC,CAAhC,EAAmCI,MATjD,CAUV4B,sBAAsB,CAAE,KAAKjD,KAAL,CAAWgB,IAAX,CAAgBa,eAAhB,CAAgC,CAAhC,EAAmCR,MAVjD,CADA,CAaXqB,WAAW,CAAE,KAAK1D,gBAAL,CAAsB,KAAKgB,KAAL,CAAWgB,IAAjC,CAAuCW,MAAvC,CAA+CgC,UAA/C,CAA2DC,WAA3D,CAbF,CAAd,EAeD,CAvHH,0DAyHmB5C,IAzHnB,CAyHyBW,MAzHzB,CAyHiCnB,KAzHjC,CAyHwCG,MAzHxC,CAyH+C,CAC3C,MAAO3B,CAAAA,iBAAgB,CAACgC,IAAD,CAAOW,MAAP,CAAenB,KAAf,CAAsBG,MAAtB,CAAvB,CACD,CA3HH,wEA6H0BK,IA7H1B,CA6H+B,CAC3B,MAAO/B,CAAAA,wBAAuB,CAAC+B,IAAD,CAA9B,CACD,CA/HH,4DAiIoBG,gBAjIpB,CAiIqC,CACjC,MAAOtC,CAAAA,kBAAiB,CAACsC,gBAAD,CAAxB,CACD,CAnIH,sDAqIiBA,gBArIjB,CAqIkC,CAC9B,MAAOrC,CAAAA,eAAc,CAACqC,gBAAD,CAArB,CACD,CAvIH,wDA0IkB2C,KA1IlB,CA0IyB,CACrB,GAAIC,CAAAA,CAAC,CAAGD,KAAK,CAACE,MAAd,CACA,GAAIC,CAAAA,GAAG,CAAGF,CAAC,CAACG,qBAAF,EAAV,CACA,GAAIC,CAAAA,CAAC,CAAGL,KAAK,CAACM,OAAN,CAAgBH,GAAG,CAACI,IAApB,CAA2B,KAAKtC,KAAL,CAAWlC,UAAX,CAAsBiD,OAAzD,CACA,GAAIwB,CAAAA,CAAC,CAAGR,KAAK,CAACS,OAAN,CAAgBN,GAAG,CAACO,GAApB,CAA0B,KAAKzC,KAAL,CAAWlC,UAAX,CAAsBkD,OAAxD,CAEA,GAAGoB,CAAC,EAAI,CAAL,EAAUG,CAAC,EAAI,CAAf,EAAoBH,CAAC,EAAI,KAAKpC,KAAL,CAAWlC,UAAX,CAAsBW,KAA/C,EAAwD8D,CAAC,EAAI,KAAKvC,KAAL,CAAWlC,UAAX,CAAsBc,MAAtF,CAA6F,CAE3F,GAAI8D,CAAAA,MAAM,CAAG,KAAK1C,KAAL,CAAWJ,MAAX,CAAkBC,KAAlB,CAA0B,KAAKG,KAAL,CAAWJ,MAAX,CAAkBG,KAAzD,CACA,GAAI4C,CAAAA,OAAO,CAAG,KAAK3C,KAAL,CAAWlC,UAAX,CAAsBW,KAAtB,CAA4BiE,MAA1C,CACA,GAAIE,CAAAA,GAAG,CAAGpD,IAAI,CAACqD,KAAL,CAAYT,CAAD,CAAIO,OAAf,CAAV,CAEAG,OAAO,CAACC,GAAR,CAAY,KAAK/C,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,CAAZ,EAEA,GAAI,KAAK5C,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,IAAwCI,SAA5C,CAAsD,CAEpD,GAAIC,CAAAA,UAAU,CAAGzD,IAAI,CAACqD,KAAL,CAAW,CAAC,KAAK7C,KAAL,CAAWJ,MAAX,CAAkBC,KAAlB,CAA0B,KAAKG,KAAL,CAAWJ,MAAX,CAAkBG,KAA7C,EAAoD,CAA/D,EAAoE,CAArF,CACA,GAAImD,CAAAA,WAAW,CAAG1D,IAAI,CAACqD,KAAL,CAAW,CAAC,KAAK7C,KAAL,CAAWJ,MAAX,CAAkBC,KAAlB,CAA0B,KAAKG,KAAL,CAAWJ,MAAX,CAAkBG,KAA7C,EAAoD,CAA/D,EAAoE,CAAtF,CAEA;AACA,IAAI,GAAIoD,CAAAA,CAAC,CAAC,KAAKnD,KAAL,CAAWJ,MAAX,CAAkBG,KAA5B,CAAmCoD,CAAC,EAAEP,GAAtC,CAA2CO,CAAC,EAA5C,CAA+C,CAC7C,GAAG,KAAKnD,KAAL,CAAWY,mBAAX,CAA+BuC,CAA/B,IAAsCH,SAAzC,CAAmD,CACjDC,UAAU,CAAGE,CAAb,CACD,CACF,CAED;AACA,IAAI,GAAIA,CAAAA,EAAC,CAACP,GAAV,CAAeO,EAAC,EAAE,KAAKnD,KAAL,CAAWJ,MAAX,CAAkBC,KAApC,CAA2CsD,EAAC,EAA5C,CAA+C,CAC7C,GAAG,KAAKnD,KAAL,CAAWY,mBAAX,CAA+BuC,EAA/B,IAAsCH,SAAzC,CAAmD,CACjDE,WAAW,CAAGC,EAAd,CACD,CACF,CAED;AACA,KAAKrB,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAIZ7B,QAAQ,CAAE,CACRC,KAAK,CAAE4B,CADC,CAER3B,KAAK,CAAE8B,CAFC,CAGRa,OAAO,CAAE,KAAKpD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,EAAoC,CAApC,CAHD,CAIRS,OAAO,CAAE,KAAKrD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,CAJD,CAKRlC,MAAM,CAAE5D,kBAAiB,CAAC,KAAKmB,KAAL,CAAWY,aAAX,CAAyBO,gBAA1B,CALjB,CAJE,CAAd,EAYA,GAAI,KAAKY,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC,QAAnC,EAA+C,KAAKN,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC0C,SAAtF,CAAiG,CAC/F,KAAKlB,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAAd,EAKD,CACF,CAvCD,IAuCO,IAAIQ,GAAG,GAAKI,SAAZ,CAAsB,CACnC;AAEQ,GAAIC,CAAAA,WAAU,CAAGL,GAAG,CAAG,CAAvB,CACA,GAAIM,CAAAA,YAAW,CAAGN,GAAG,CAAG,CAAxB,CAEA;AACA,IAAK,GAAIO,CAAAA,GAAC,CAACP,GAAX,CAAgBO,GAAC,EAAE,CAAnB,CAAsBA,GAAC,EAAvB,CAA2B,CACzB,GAAG,KAAKnD,KAAL,CAAWY,mBAAX,CAA+BuC,GAA/B,IAAsCH,SAAzC,CAAmD,CACjDC,WAAU,CAAGE,GAAb,CACA,MACD,CACF,CAED;AACA,IAAK,GAAIA,CAAAA,GAAC,CAACP,GAAX,CAAgBO,GAAC,EAAE,KAAKnD,KAAL,CAAWJ,MAAX,CAAkBC,KAArC,CAA4CsD,GAAC,EAA7C,CAAiD,CAC/C,GAAG,KAAKnD,KAAL,CAAWY,mBAAX,CAA+BuC,GAA/B,IAAsCH,SAAzC,CAAoD,CAClDE,YAAW,CAAGC,GAAd,CACA,MACD,CACF,CAED;AACA,GAAIG,CAAAA,SAAS,CAAGV,GAAG,CAAGK,WAAtB,CACA,GAAIM,CAAAA,UAAU,CAAGL,YAAW,CAAGN,GAA/B,CAGA,GAAI,KAAK5C,KAAL,CAAWY,mBAAX,CAA+BqC,WAA/B,IAA+CD,SAAhD,EAA+D,KAAKhD,KAAL,CAAWY,mBAAX,CAA+BsC,YAA/B,IAAgDF,SAAlH,CAA6H,CAC3H,GAAIM,SAAS,EAAEC,UAAf,CAA4B,CAC1B,KAAKzB,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAIZ7B,QAAQ,CAAE,CACRC,KAAK,CAAE4B,CADC,CAER3B,KAAK,CAAE8B,CAFC,CAGRa,OAAO,CAAE,KAAKpD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,EAAoC,CAApC,CAHD,CAIRS,OAAO,CAAE,KAAKrD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,CAJD,CAKRlC,MAAM,CAAE5D,kBAAiB,CAAC,KAAKmB,KAAL,CAAWY,aAAX,CAAyBO,gBAA1B,CALjB,CAJE,CAAd,EAYA,GAAI,KAAKY,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC,QAAnC,EAA+C,KAAKN,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC0C,SAAtF,CAAiG,CAC/F,KAAKlB,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAAd,EAKD,CACF,CApBD,IAoBO,CACL,KAAKN,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAIZ7B,QAAQ,CAAE,CACRC,KAAK,CAAE4B,CADC,CAER3B,KAAK,CAAE8B,CAFC,CAGRa,OAAO,CAAE,KAAKpD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,EAAoC,CAApC,CAHD,CAIRS,OAAO,CAAE,KAAKrD,KAAL,CAAWY,mBAAX,CAA+BgC,GAA/B,CAJD,CAKRlC,MAAM,CAAE5D,kBAAiB,CAAC,KAAKmB,KAAL,CAAWY,aAAX,CAAyBO,gBAA1B,CALjB,CAJE,CAAd,EAYA,GAAI,KAAKY,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC,QAAnC,EAA+C,KAAKN,KAAL,CAAWO,QAAX,CAAoBD,UAApB,GAAmC0C,SAAtF,CAAiG,CAC/F,KAAKlB,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTC,GAAG,CAAE+B,CADI,CADC,CAAd,EAKD,CACF,CAEF,CACT;AAEO,CACF,CAzHD,IAyHO,IAAIA,CAAC,CAAG,KAAKpC,KAAL,CAAWlC,UAAX,CAAsBW,KAA1B,EAAmC8D,CAAC,CAAG,KAAKvC,KAAL,CAAWlC,UAAX,CAAsBc,MAA7D,EAAuEwD,CAAC,CAAG,KAAKpC,KAAL,CAAWlC,UAAX,CAAsBiD,OAAjG,EAA4GwB,CAAC,CAAG,KAAKvC,KAAL,CAAWlC,UAAX,CAAsBkD,OAA1I,CAAkJ,CACvJ,KAAKc,QAAL,CAAc,CACZ1B,SAAS,CAAE,CACTE,UAAU,CAAE,QADH,CAETD,GAAG,CAAE,IAFI,CADC,CAKZE,QAAQ,CAAE,CACRD,UAAU,CAAE,QADJ,CAERE,KAAK,CAAE,IAFC,CAGRC,KAAK,CAAE,IAHC,CAIRC,MAAM,CAAE5D,kBAAiB,CAAC,KAAKmB,KAAL,CAAWY,aAAX,CAAyBO,gBAA1B,CAJjB,CALE,CAAd,EAYD,CACF,CAvRH,sDA0RiB2C,KA1RjB,CA0RwB,CACpB,KAAKD,QAAL,CAAc,CACZ1B,SAAS,CAAC,CACNC,GAAG,CAAE,CADC,CAENC,UAAU,CAAE,QAFN,CADE,CAKZC,QAAQ,CAAE,CACRC,KAAK,CAAE,CADC,CAERC,KAAK,CAAE,CAFC,CAGRH,UAAU,CAAE,QAHJ,CAIRI,MAAM,CAAE5D,kBAAiB,CAAC,KAAKmB,KAAL,CAAWY,aAAX,CAAyBO,gBAA1B,CAJjB,CALE,CAAd,EAYD,CAvSH,uCAySW,iBAET,GAAIoE,CAAAA,UAAU,CAAG,KAAKxD,KAAL,CAAWW,WAAX,CAAuB,CAAvB,EAA0B8C,GAA1B,CAA8B,SAAEC,MAAF,CAAUC,KAAV,CAAqB,CAChE,MACE,qBAAC,SAAD,EAAW,GAAG,CAAEA,KAAhB,CAAuB,IAAI,CAAED,MAA7B,CAAqC,KAAK,CAAE,MAAI,CAAC1D,KAAL,CAAWU,MAAX,CAAkBiD,KAAlB,CAA5C,CAAsE,KAAK,CAAE,MAA7E,CAAqF,KAAK,CAAE,CAA5F,EADF,CAGD,CAJc,CAAjB,CAME,GAAIC,CAAAA,iBAAiB,CAAG,KAAK5D,KAAL,CAAWW,WAAX,CAAuB,CAAvB,EAA0B8C,GAA1B,CAA8B,SAAEC,MAAF,CAAUC,KAAV,CAAqB,CACzE,MACE,qBAAC,SAAD,EAAW,GAAG,CAAEA,KAAhB,CAAuB,IAAI,CAAED,MAA7B,CAAqC,KAAK,CAAE,MAAI,CAAC1D,KAAL,CAAWU,MAAX,CAAkBiD,KAAlB,CAA5C,CAAsE,KAAK,CAAE,MAA7E,EADF,CAGD,CAJuB,CAAxB,CAMA,GAAIE,CAAAA,GAAG,CAAG,OAAS,KAAK7D,KAAL,CAAWlC,UAAX,CAAsBgD,SAA/B,CAA2C,GAA3C,CAAiD,KAAK7C,KAAL,CAAWY,aAAX,CAAyBD,MAApF,CACA,GAAIkF,CAAAA,OAAO,CAAG,aAAe,KAAK9D,KAAL,CAAWlC,UAAX,CAAsBiD,OAArC,CAA+C,GAA/C,CAAqD,KAAKf,KAAL,CAAWlC,UAAX,CAAsBkD,OAA3E,CAAqF,GAAnG,CAEA,GAAM+C,CAAAA,EAAE,CAAG,KAAK/D,KAAL,CAAWb,KAAtB,CACA,GAAM6E,CAAAA,EAAE,CAAG,KAAKhE,KAAL,CAAWhB,KAAtB,CAEA,GAAIO,CAAAA,WAAW,CAAG,CAACC,IAAI,CAACC,IAAL,CAAU,CAAEuE,EAAD,CAAK,CAAN,EAAW,EAArB,EAAyB,CAA1B,EAA+B,EAAjD,CACA,GAAItE,CAAAA,WAAW,CAAGF,IAAI,CAACC,IAAL,CAAU,CAACD,IAAI,CAACG,GAAL,CAASoE,EAAT,EAAa,CAAd,EAAmB,EAA7B,EAAmC,EAArD,CACA,GAAIE,CAAAA,aAAa,CAAG,CAACvE,WAAW,CAAGH,WAAf,EAA4B,EAAhD,CAEA,MACE,4BAAK,GAAG,CAAE,KAAKT,MAAf,EACE,2BAAK,OAAO,CAAC,KAAb,CAAmB,KAAK,CAAC,4BAAzB,CAAsD,mBAAmB,CAAC,MAA1E,CAAiF,WAAW,CAAE,KAAKZ,eAAnG,CAAoH,YAAY,CAAE,KAAKE,cAAvI,CAAuJ,KAAK,CAAE,KAAK4B,KAAL,CAAWlC,UAAX,CAAsBgD,SAApL,CAA+L,MAAM,CAAE,KAAK7C,KAAL,CAAWY,aAAX,CAAyBD,MAAhO,CAAwO,OAAO,CAAEiF,GAAjP,EACI,6BACE,yBAAG,SAAS,CAAEC,OAAd,EAEIN,UAFJ,CAIII,iBAJJ,CAME,oBAAC,IAAD,EAAM,UAAU,CAAE,KAAK5D,KAAL,CAAWlC,UAA7B,CAAyC,QAAQ,CAAE,KAAKkC,KAAL,CAAWkE,QAA9D,CAAwE,KAAK,CAAE,KAAKlE,KAAL,CAAWC,KAA1F,EANF,CAQE,oBAAC,KAAD,EAAO,UAAU,CAAE,KAAKD,KAAL,CAAWlC,UAA9B,CAA0C,QAAQ,CAAEmG,aAApD,CAAmE,OAAO,CAAE,KAAKjE,KAAL,CAAWG,OAAvF,CAAgG,WAAW,CAAEZ,WAA7G,CAA0H,WAAW,CAAEG,WAAvI,EARF,CAUE,oBAAC,KAAD,EAAO,UAAU,CAAE,KAAKM,KAAL,CAAWlC,UAA9B,CAA0C,OAAO,CAAE,KAAKkC,KAAL,CAAWE,OAA9D,CAAuE,KAAK,CAAE,KAAKF,KAAL,CAAWmB,KAAzF,CAAgG,KAAK,CAAE,KAAKnB,KAAL,CAAWY,mBAAlH,EAVF,CAYE,oBAAC,MAAD,EAAQ,UAAU,CAAE,KAAKZ,KAAL,CAAWlC,UAA/B,CAA2C,MAAM,CAAE,KAAKkC,KAAL,CAAWU,MAA9D,CAAsE,QAAQ,CAAE,KAAKzC,KAAL,CAAWY,aAAX,CAAyBQ,QAAzG,EAZF,CAcE,oBAAC,WAAD,EAAa,UAAU,CAAE,KAAKW,KAAL,CAAWlC,UAApC,CAAgD,MAAM,CAAE,KAAKkC,KAAL,CAAWJ,MAAnE,EAdF,CAgBE,oBAAC,YAAD,EAAc,SAAS,CAAE,KAAKI,KAAL,CAAWI,SAApC,CAA+C,MAAM,CAAE,KAAKJ,KAAL,CAAWlC,UAAX,CAAsBc,MAA7E,EAhBF,CAkBE,oBAAC,QAAD,EAAU,QAAQ,CAAE,KAAKoB,KAAL,CAAWO,QAA/B,CAAyC,KAAK,CAAEzC,UAAU,CAACqG,SAA3D,CAAsE,MAAM,CAAE,KAAKnE,KAAL,CAAWa,eAAzF,CAA0G,QAAQ,CAAE,KAAK5C,KAAL,CAAWY,aAAX,CAAyBQ,QAA7I,EAlBF,CADF,CADJ,CADF,CADF,CA6BD,CA9VH,sDAgWiBZ,KAhWjB,CAgWwB,CACpB,GAAIG,CAAAA,MAAM,CAAGH,KAAK,CAAEV,KAApB,CACA,GAAIO,CAAAA,YAAY,CAAG,KAAK0B,KAAL,CAAWe,OAA9B,CACA,GAAIxC,CAAAA,UAAU,CAAG,KAAKyB,KAAL,CAAWgB,OAA5B,CACA,GAAIW,CAAAA,aAAa,CAAG,KAAK3B,KAAL,CAAWe,OAA/B,CACA,GAAIvC,CAAAA,cAAc,CAAG,KAAKwB,KAAL,CAAWgB,OAAhC,CAEA,GAAGvC,KAAK,CAAC,IAAT,CAAe,CACbG,MAAM,CAAGA,MAAT,CACAN,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,EAAjB,CACD,CAED,GAAGC,KAAK,EAAE,IAAV,CAAgB,CACdG,MAAM,CAAI,GAAD,CAAMH,KAAN,CAAaV,KAAtB,CACAO,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,EAAjB,CACD,CAED,GAAGC,KAAK,EAAE,IAAV,CAAgB,CACdG,MAAM,CAAI,GAAD,CAAMH,KAAN,CAAaV,KAAtB,CACAO,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,EAAjB,CACD,CAED,GAAGC,KAAK,EAAE,IAAV,CAAgB,CACdG,MAAM,CAAI,GAAD,CAAMH,KAAN,CAAaV,KAAtB,CACAO,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,EAAjB,CACD,CAED,GAAIC,KAAK,EAAE,IAAX,CAAiB,CACfG,MAAM,CAAI,GAAD,CAAMH,KAAN,CAAaV,KAAtB,CACAO,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,EAAjB,CACD,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAGC,KAAK,EAAE,GAAV,CAAe,CACbG,MAAM,CAAI,GAAD,CAAMH,KAAN,CAAaV,KAAtB,CACAO,YAAY,CAAG,EAAf,CACAC,UAAU,CAAG,EAAb,CACAoD,aAAa,CAAG,EAAhB,CACAnD,cAAc,CAAG,KAAKwB,KAAL,CAAWZ,gBAAX,CAA4B,EAA5B,CAAiC,EAAlD,CACD,CAED,GAAIqC,CAAAA,KAAK,CAAG,CACV7C,MAAM,CAAEA,MADE,CAEVN,YAAY,CAAEA,YAFJ,CAGVC,UAAU,CAAEA,UAHF,CAIVoD,aAAa,CAAEA,aAJL,CAKVnD,cAAc,CAAEA,cALN,CAAZ,CAQA,MAAOiD,CAAAA,KAAP,CACD,CAxaH,yBAAiC5E,KAAK,CAACuH,aAAvC,EA4aA,cAAepG,CAAAA,WAAf","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { get_random_colors, get_box_height, get_data_mocks_area_DATES, scale_data_mocks, get_data_map_area_DATES, get_min_value, get_max_value } from './utils/functions'\r\nimport { appConfig } from './utils/config.js';\r\n\r\nimport AxisX from './parts/AxisX';\r\nimport AxisY from './parts/AxisY';\r\nimport Legend from './parts/Legend';\r\nimport Static_Line from './parts/Static_Line';\r\nimport Pointer_Line from './parts/Pointer_Line';\r\nimport Info_Box from './parts/Info_Box';\r\nimport Area_Path from './parts/Area_Path';\r\nimport Plot from './parts/Plot';\r\nimport './css/plot.css';\r\n\r\n\r\nlet dimensions = appConfig.dimensions;\r\nconst ratio = 4.5;\r\n\r\nexport class KeywordPlot extends React.PureComponent {\t\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.handleHoverOff = this.handleHoverOff.bind(this);\r\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n\r\n    let x_trans_left = 85*4;\r\n    let y_trans_up = 85;\r\n    let y_trans_bottom = 85;\r\n\r\n    let width = (window.innerWidth*(0.6) - 2*x_trans_left)*0.8;\r\n    let height = this.props.plot_settings.height - y_trans_up - y_trans_bottom;\r\n\r\n    this.divRef = React.createRef();\r\n\r\n    let min_y = get_min_value(this.props.data.historical_data);\r\n    let max_y = get_max_value(this.props.data.historical_data);\r\n\r\n    let number_of_series = this.props.plot_settings.keywords.length;\r\n\r\n    let lower_bound = (Math.ceil(((min_y)+1) / 10)-1) * 10\r\n    let upper_bound = Math.ceil((Math.abs(max_y)+1) / 10) * 10\r\n\r\n    let ranges = {\r\n      max_x: (this.props.data.historical_data[0].length + this.props.data.forecasted_data[0].length),\r\n      min_x: 0,\r\n      max_y: upper_bound,\r\n      min_y: lower_bound,\r\n    }\r\n\r\n    this.state = {\r\n      title: this.props.plot_settings.title,\r\n      x_label: this.props.plot_settings.x_label,\r\n      y_label: this.props.plot_settings.y_label,\r\n\r\n      mark_line: {\r\n        pos: 0,\r\n        visibility: \"hidden\"\r\n      },\r\n\r\n      info_box: {\r\n        pos_x: 0,\r\n        pos_y: 0,\r\n        visibility: \"hidden\",\r\n        colors: get_random_colors(number_of_series),\r\n      },\r\n\r\n      scaled_data: this.scale_data_mocks(this.props.data, ranges, width, height),\r\n      data_map_area_DATES: this.get_data_map_area_DATES(this.props.data),\r\n\r\n      colors: this.get_random_colors(number_of_series),\r\n      info_box_height: this.get_box_height(number_of_series),\r\n\r\n      dimensions: {\r\n        svg_width: width,\r\n        width: width/1.1,\r\n        height: height,\r\n        x_trans: x_trans_left,\r\n        y_trans: y_trans_up,\r\n        y_trans_bottom: y_trans_bottom,\r\n        historical_data_length: this.props.data.historical_data[0].length,\r\n        forecasted_data_length: this.props.data.forecasted_data[0].length,\r\n      },\r\n      min_y: min_y,\r\n      max_y: max_y,\r\n      ticks: 12,\r\n\r\n      ranges: ranges,\r\n      number_of_series: number_of_series,\r\n      // height: height\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions);\r\n    this.divRef.current.focus();\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions);\r\n  }\r\n  \r\n  updateWindowDimensions() {\r\n    let svg_width = this.divRef.current.clientWidth;\r\n\r\n    let sizes = this.get_dimensions(svg_width)\r\n\r\n    let x_trans_left = sizes.x_trans_left;\r\n    let x_trans_right = sizes.x_trans_right;\r\n    let y_trans_up = sizes.y_trans_up;\r\n    let y_trans_bottom = sizes.y_trans_bottom;\r\n    let height = sizes.height;\r\n\r\n    let plot_width = svg_width - x_trans_left - x_trans_right;\r\n    let plot_height = this.props.plot_settings.height - y_trans_up - y_trans_bottom;\r\n    // let plot_height = this.state.height - y_trans_up - y_trans_bottom;\r\n\r\n    let ranges = this.state.ranges;\r\n\r\n    this.setState({\r\n      dimensions: {\r\n        svg_width: svg_width,\r\n        width: plot_width,\r\n        height: plot_height,\r\n        x_trans: x_trans_left,\r\n        y_trans: y_trans_up,\r\n        x_trans_right: x_trans_right,\r\n        y_trans_bottom: y_trans_bottom,\r\n\r\n        historical_data_length: this.props.data.historical_data[0].length,\r\n        forecasted_data_length: this.props.data.forecasted_data[0].length,\r\n       },\r\n       scaled_data: this.scale_data_mocks(this.props.data, ranges, plot_width, plot_height),\r\n    });\r\n  }\r\n\r\n  scale_data_mocks(data, ranges, width, height){\r\n    return scale_data_mocks(data, ranges, width, height)\r\n  }\r\n\r\n  get_data_map_area_DATES(data){\r\n    return get_data_map_area_DATES(data)\r\n  }\r\n\r\n  get_random_colors(number_of_series){\r\n    return get_random_colors(number_of_series)\r\n  }\r\n\r\n  get_box_height(number_of_series){\r\n    return get_box_height(number_of_series)\r\n  }\r\n\r\n\r\n  handleMouseMove(event) {\r\n    var e = event.target;\r\n    var dim = e.getBoundingClientRect();\r\n    var x = event.clientX - dim.left - this.state.dimensions.x_trans;\r\n    var y = event.clientY - dim.top - this.state.dimensions.y_trans;\r\n\r\n    if(x >= 0 && y >= 0 && x <= this.state.dimensions.width && y <= this.state.dimensions.height){\r\n\r\n      let x_diff = this.state.ranges.max_x - this.state.ranges.min_x;  \r\n      let x_frame = this.state.dimensions.width/x_diff;\r\n      let key = Math.round((x)/x_frame);\r\n\r\n      console.log(this.state.data_map_area_DATES[key])\r\n\r\n      if (this.state.data_map_area_DATES[key] !== undefined){\r\n\r\n        let left_index = Math.round((this.state.ranges.max_x - this.state.ranges.min_x)/2) - 1;\r\n        let right_index = Math.round((this.state.ranges.max_x - this.state.ranges.min_x)/2) + 1;\r\n\r\n        //keys left\r\n        for(let i=this.state.ranges.min_x; i<=key; i++){\r\n          if(this.state.data_map_area_DATES[i] !== undefined){\r\n            left_index = i\r\n          }\r\n        }\r\n\r\n        //keys right\r\n        for(let i=key; i<=this.state.ranges.max_x; i++){\r\n          if(this.state.data_map_area_DATES[i] !== undefined){\r\n            right_index = i\r\n          }\r\n        }\r\n    \r\n        //index difference\r\n        this.setState({\r\n          mark_line: {\r\n            pos: x,  \r\n          },\r\n          info_box: {\r\n            pos_x: x,\r\n            pos_y: y,\r\n            value_x: this.state.data_map_area_DATES[key][1],\r\n            value_y: this.state.data_map_area_DATES[key],\r\n            colors: get_random_colors(this.props.plot_settings.number_of_series)\r\n          }\r\n        })\r\n        if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\r\n          this.setState({\r\n            mark_line: {\r\n              pos: x\r\n            }\r\n          })\r\n        }\r\n      } else if (key !== undefined){\r\n////////////////////////////\r\n\r\n        let left_index = key - 1;\r\n        let right_index = key + 1;\r\n        \r\n        //keys left\r\n        for (let i=key; i>=0; i--) {\r\n          if(this.state.data_map_area_DATES[i] !== undefined){\r\n            left_index = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        //keys right\r\n        for (let i=key; i<=this.state.ranges.max_x; i++) {\r\n          if(this.state.data_map_area_DATES[i] !== undefined) {\r\n            right_index = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        //index difference\r\n        let left_diff = key - left_index;\r\n        let right_diff = right_index - key;\r\n\r\n\r\n        if((this.state.data_map_area_DATES[left_index] !== undefined) && (this.state.data_map_area_DATES[right_index] !== undefined)){\r\n          if (left_diff<=right_diff ) {\r\n            this.setState({\r\n              mark_line: {\r\n                pos: x,  \r\n              },\r\n              info_box: {\r\n                pos_x: x,\r\n                pos_y: y,\r\n                value_x: this.state.data_map_area_DATES[key][1],\r\n                value_y: this.state.data_map_area_DATES[key],\r\n                colors: get_random_colors(this.props.plot_settings.number_of_series)\r\n              }\r\n            })\r\n            if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\r\n              this.setState({\r\n                mark_line: {\r\n                  pos: x\r\n                }\r\n              })\r\n            }\r\n          } else {\r\n            this.setState({\r\n              mark_line: {\r\n                pos: x,  \r\n              },\r\n              info_box: {\r\n                pos_x: x,\r\n                pos_y: y,\r\n                value_x: this.state.data_map_area_DATES[key][1],\r\n                value_y: this.state.data_map_area_DATES[key],\r\n                colors: get_random_colors(this.props.plot_settings.number_of_series)\r\n              }\r\n            })\r\n            if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\r\n              this.setState({\r\n                mark_line: {\r\n                  pos: x\r\n                }\r\n              })\r\n            }\r\n          }\r\n\r\n        }\r\n/////////////////\r\n\r\n      }\r\n    } else if (x > this.state.dimensions.width || y > this.state.dimensions.height || x < this.state.dimensions.x_trans || y < this.state.dimensions.y_trans){\r\n      this.setState({\r\n        mark_line: {\r\n          visibility: \"hidden\",\r\n          pos: 9999\r\n        },\r\n        info_box: {\r\n          visibility: \"hidden\",\r\n          pos_x: 9999,\r\n          pos_y: 9999,\r\n          colors: get_random_colors(this.props.plot_settings.number_of_series)\r\n        }\r\n      })\r\n    }\r\n  }\r\n  \r\n\r\n  handleHoverOff(event) {\r\n    this.setState({\r\n      mark_line:{\r\n          pos: 0,\r\n          visibility: \"hidden\"\r\n      },\r\n      info_box: {\r\n        pos_x: 0,\r\n        pos_y: 0,\r\n        visibility: \"hidden\",\r\n        colors: get_random_colors(this.props.plot_settings.number_of_series)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n  let area_paths = this.state.scaled_data[0].map(( entity, index ) => {\r\n      return (\r\n        <Area_Path key={index} data={entity} color={this.state.colors[index]} style={\"none\"} slice={4}/>\r\n      );\r\n    });\r\n\r\n    let area_paths_future = this.state.scaled_data[1].map(( entity, index ) => {\r\n      return (\r\n        <Area_Path key={index} data={entity} color={this.state.colors[index]} style={\"dash\"} />\r\n      );\r\n    });\r\n\r\n    let v_b = \"0 0 \" + this.state.dimensions.svg_width + \" \" + this.props.plot_settings.height;\r\n    let v_trans = \"translate(\" + this.state.dimensions.x_trans + \",\" + this.state.dimensions.y_trans + \")\";\r\n\r\n    const aa = this.state.max_y;\r\n    const bb = this.state.min_y;\r\n\r\n    let lower_bound = (Math.ceil(((bb)+1) / 10)-1) * 10\r\n    let upper_bound = Math.ceil((Math.abs(aa)+1) / 10) * 10\r\n    let calc_y_number = (upper_bound - lower_bound)/10;\r\n\r\n    return (\r\n      <div ref={this.divRef}>\r\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"none\" onMouseMove={this.handleMouseMove} onMouseLeave={this.handleHoverOff} width={this.state.dimensions.svg_width} height={this.props.plot_settings.height} viewBox={v_b}>\r\n            <g>\r\n              <g transform={v_trans}>\r\n\r\n                { area_paths }\r\n\r\n                { area_paths_future }\r\n                \r\n                <Plot dimensions={this.state.dimensions} y_number={this.state.y_number} title={this.state.title} />\r\n\r\n                <AxisY dimensions={this.state.dimensions} y_number={calc_y_number} y_label={this.state.y_label} lower_bound={lower_bound} upper_bound={upper_bound} />\r\n\r\n                <AxisX dimensions={this.state.dimensions} x_label={this.state.x_label} ticks={this.state.ticks} dates={this.state.data_map_area_DATES} />\r\n                \r\n                <Legend dimensions={this.state.dimensions} colors={this.state.colors} keywords={this.props.plot_settings.keywords} />\r\n\r\n                <Static_Line dimensions={this.state.dimensions} ranges={this.state.ranges} />\r\n\r\n                <Pointer_Line mark_line={this.state.mark_line} height={this.state.dimensions.height} />\r\n\r\n                <Info_Box info_box={this.state.info_box} width={dimensions.box_width} height={this.state.info_box_height} keywords={this.props.plot_settings.keywords}  />\r\n                \r\n              </g>\r\n            </g>\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  get_dimensions(width) {\r\n    let height = width/(ratio);\r\n    let x_trans_left = this.state.x_trans;\r\n    let y_trans_up = this.state.y_trans;\r\n    let x_trans_right = this.state.x_trans;\r\n    let y_trans_bottom = this.state.y_trans;\r\n\r\n    if(width>1800) {\r\n      height = height;\r\n      x_trans_left = 80;\r\n      y_trans_up = 80;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = 80;\r\n    }\r\n\r\n    if(width<=1800) {\r\n      height = (1.2)*width/(ratio);\r\n      x_trans_left = 80;\r\n      y_trans_up = 80;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = 80;\r\n    }\r\n\r\n    if(width<=1600) {\r\n      height = (1.4)*width/(ratio);\r\n      x_trans_left = 80;\r\n      y_trans_up = 80;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = 80;\r\n    }\r\n    \r\n    if(width<=1400) {\r\n      height = (1.6)*width/(ratio);\r\n      x_trans_left = 70;\r\n      y_trans_up = 70;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = 70;\r\n    }\r\n\r\n    if (width<=1200) {\r\n      height = (1.8)*width/(ratio);\r\n      x_trans_left = 60;\r\n      y_trans_up = 60;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = 70;\r\n    }\r\n\r\n    // if(width<=800){\r\n    //   height = (2.2)*width/(ratio);\r\n    //   x_trans = 60;\r\n    //   y_trans = 20;\r\n    //   x_trans2 = 20;\r\n    //   y_trans2 = 60;\r\n    // }\r\n\r\n    if(width<=700) {\r\n      height = (3.1)*width/(ratio);\r\n      x_trans_left = 60;\r\n      y_trans_up = 20;\r\n      x_trans_right = 50;\r\n      y_trans_bottom = this.state.number_of_series*14 + 80;\r\n    }\r\n\r\n    let sizes = {\r\n      height: height,\r\n      x_trans_left: x_trans_left,\r\n      y_trans_up: y_trans_up,\r\n      x_trans_right: x_trans_right,\r\n      y_trans_bottom: y_trans_bottom\r\n    }\r\n\r\n    return sizes;\r\n  }\r\n\r\n}\r\n\r\nexport default KeywordPlot;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"G:\\\\kloud9\\\\dashboard-last\\\\keywords-tool\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';export var AxisX=/*#__PURE__*/function(_React$PureComponent){_inherits(AxisX,_React$PureComponent);function AxisX(props){_classCallCheck(this,AxisX);return _possibleConstructorReturn(this,_getPrototypeOf(AxisX).call(this,props));}_createClass(AxisX,[{key:\"render\",value:function render(){return React.createElement(\"g\",null,prepare_x_axis(this.props.dimensions.width,this.props.dimensions.height,this.props.ticks,this.props.dates,this.props.x_label,this.props.dimensions.y_trans_bottom));}}]);return AxisX;}(React.PureComponent);export default AxisX;function make_x_tick(x,y){var line=\"M \".concat(x,\" \").concat(y,\" L \").concat(x,\" \").concat(y+10);return React.createElement(\"path\",{className:\"plot_xmark\",d:line,\"data-z-index\":\"0\"});}function prepare_x_axis(width,height,ticks,data_mock,title,y_trans){var result=[];var ticks_number=ticks+1;if(width<=700){ticks_number=6+1;}var length=Object.keys(data_mock).length-1;var data_frame=Math.floor(length/(ticks_number-1));var frame=width/(ticks_number-1);for(var i=0;i<ticks_number;i++){var point=frame*i;result.push(make_x_tick(point,height));}// for(let i=0; i<ticks_number; i++){\n//   result.push(<text key={i} x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate_monthly(data_mock[data_frame*i][1])}</text>)\n// }\nif(width<=700){for(var _i=0;_i<ticks_number;_i++){result.push(React.createElement(\"text\",{key:_i,x:frame*_i,className:\"plot_xtick\",textAnchor:\"middle\",y:height+25},formatDate_yearly(data_mock[data_frame*_i][1])));}}else{for(var _i2=0;_i2<ticks_number;_i2++){result.push(React.createElement(\"text\",{x:frame*_i2,className:\"plot_xtick\",textAnchor:\"middle\",y:height+25},formatDate_monthly(data_mock[data_frame*_i2][1])));// result.push(<text key={i} x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate(data_mock[data_frame*i][1])}</text>)\n}}var line=\"M 0 \".concat(height,\" H \").concat(width);var height_trans=y_trans;if(width>700){result.push(React.createElement(\"text\",{x:width/2,textAnchor:\"middle\",className:\"plot_xaxis_title\",y:height+height_trans-30},React.createElement(\"tspan\",null,title)));}else{result.push(React.createElement(\"text\",{x:width/2,textAnchor:\"middle\",className:\"plot_xaxis_title\",y:height+40},React.createElement(\"tspan\",null,title)));}result.push(React.createElement(\"path\",{key:height,d:line,fill:\"none\",className:\"plot_line\",\"data-z-index\":\"0\"}));return result;}function formatDate(d){var date=new Date(d);var dd=date.getDate();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;};return d=dd+'-'+mm+'-'+yyyy;}function formatDate_monthly(d){var date=new Date(d);var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(mm<10){mm='0'+mm;};return d=mm+'-'+yyyy;}function formatDate_yearly(d){var date=new Date(d);var yyyy=date.getFullYear();return d=yyyy;}","map":{"version":3,"sources":["G:/kloud9/dashboard-last/keywords-tool/client/src/components/plot/src/plot/parts/AxisX.js"],"names":["React","AxisX","props","prepare_x_axis","dimensions","width","height","ticks","dates","x_label","y_trans_bottom","PureComponent","make_x_tick","x","y","line","data_mock","title","y_trans","result","ticks_number","length","Object","keys","data_frame","Math","floor","frame","i","point","push","formatDate_yearly","formatDate_monthly","height_trans","formatDate","d","date","Date","dd","getDate","mm","getMonth","yyyy","getFullYear"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nexport class AxisX extends React.PureComponent {\t\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <g>\r\n        { prepare_x_axis(this.props.dimensions.width, this.props.dimensions.height, this.props.ticks, this.props.dates, this.props.x_label, this.props.dimensions.y_trans_bottom) }\r\n      </g>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AxisX\r\n\r\n\r\n\r\nfunction make_x_tick(x, y) {\r\n  let line = `M ${x} ${y} L ${x} ${y + 10}`;\r\n  return <path className=\"plot_xmark\" d={line} data-z-index=\"0\" />\r\n}\r\n\r\nfunction prepare_x_axis(width, height, ticks, data_mock, title, y_trans){\r\n  let result = []\r\n\r\n  let ticks_number = ticks + 1;\r\n    \r\n  if (width<=700) {\r\n    ticks_number = 6 + 1;\r\n  }\r\n\r\n\r\n  let length = Object.keys(data_mock).length - 1;\r\n  let data_frame = Math.floor(length/(ticks_number-1));\r\n\r\n  let frame = width / (ticks_number - 1)\r\n\r\n  for (let i=0; i<ticks_number; i++){\r\n    let point = frame * i;\r\n    result.push(make_x_tick(point, height))\r\n  }\r\n\r\n  // for(let i=0; i<ticks_number; i++){\r\n  //   result.push(<text key={i} x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate_monthly(data_mock[data_frame*i][1])}</text>)\r\n  // }\r\n\r\n  if (width<=700){\r\n    for(let i=0; i<ticks_number; i++){\r\n      result.push(<text key={i} x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate_yearly(data_mock[data_frame*i][1])}</text>)\r\n    }\r\n  } else {\r\n    for(let i=0; i<ticks_number; i++){\r\n      result.push(<text x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate_monthly(data_mock[data_frame*i][1])}</text>)\r\n      // result.push(<text key={i} x={frame*i} className=\"plot_xtick\" textAnchor=\"middle\" y={height + 25}>{formatDate(data_mock[data_frame*i][1])}</text>)\r\n    }\r\n  }\r\n\r\n  let line = `M 0 ${height} H ${width}`;\r\n  let height_trans = y_trans\r\n\r\n  if(width>700) {\r\n    result.push(<text x={width/2} textAnchor=\"middle\" className=\"plot_xaxis_title\" y={height + height_trans - 30}><tspan>{title}</tspan></text>)\r\n  } else {\r\n    result.push(<text x={width/2} textAnchor=\"middle\" className=\"plot_xaxis_title\" y={height +40}><tspan>{title}</tspan></text>)\r\n  }\r\n\r\n  result.push(<path key={height} d={line} fill=\"none\" className=\"plot_line\" data-z-index=\"0\" />)\r\n\r\n  return result \r\n}\r\n\r\n\r\n\r\nfunction formatDate(d)\r\n {\r\n  let date = new Date(d)\r\n  var dd = date.getDate(); \r\n  var mm = date.getMonth()+1;\r\n  var yyyy = date.getFullYear(); \r\n  if (dd<10) {dd='0'+dd} \r\n  if (mm<10) {mm='0'+mm};\r\n  return d = dd + '-' + mm+'-' + yyyy\r\n}\r\n\r\nfunction formatDate_monthly(d)\r\n {\r\n  let date = new Date(d)\r\n  var mm = date.getMonth()+1;\r\n  var yyyy = date.getFullYear(); \r\n  if (mm < 10) {mm = '0' + mm};\r\n  return d = mm + '-' + yyyy\r\n}\r\n\r\nfunction formatDate_yearly(d)\r\n {\r\n  let date = new Date(d)\r\n  var yyyy = date.getFullYear(); \r\n  return d = yyyy\r\n}"]},"metadata":{},"sourceType":"module"}